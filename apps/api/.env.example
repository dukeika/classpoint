# ClassPoint API - Environment Configuration
# Copy this file to .env.local for local development
# Copy this file to .env.production for production deployment

# ======================
# Application
# ======================
NODE_ENV=development
PORT=3000
API_PREFIX=/api/v1

# ======================
# Database
# ======================
# PostgreSQL Connection String
DATABASE_URL="postgresql://username:password@localhost:5432/classpoint?schema=public"

# Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_POOL_IDLE_TIMEOUT=10000

# ======================
# Authentication
# ======================
# JWT Secret (Generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# AWS Cognito Configuration
AWS_REGION=us-east-1
AWS_COGNITO_USER_POOL_ID=your-user-pool-id
AWS_COGNITO_CLIENT_ID=your-client-id
AWS_COGNITO_ISSUER=https://cognito-idp.us-east-1.amazonaws.com/your-user-pool-id

# ======================
# AWS Services
# ======================
# S3 Configuration
AWS_S3_BUCKET=classpoint-resources
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# Presigned URL Expiration (seconds)
S3_PRESIGNED_URL_EXPIRES=3600

# ======================
# Email Service
# ======================
# AWS SES Configuration
AWS_SES_REGION=us-east-1
EMAIL_FROM=noreply@classpoint.ng
EMAIL_REPLY_TO=support@classpoint.ng

# SMTP Fallback (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# ======================
# SMS Service
# ======================
# AWS SNS or Twilio
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ======================
# Rate Limiting
# ======================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ======================
# CORS Configuration
# ======================
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true

# ======================
# Logging
# ======================
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry Error Tracking (Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ======================
# Security
# ======================
# Helmet Security Headers
HELMET_ENABLED=true

# CSRF Protection
CSRF_ENABLED=true

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ======================
# Feature Flags
# ======================
FEATURE_CALENDAR_ENABLED=true
FEATURE_RESOURCES_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_EXPORT_ENABLED=true
FEATURE_IMPORT_ENABLED=true

# ======================
# Cache Configuration
# ======================
# Redis (Optional, for session management and caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ======================
# File Upload Limits
# ======================
MAX_FILE_SIZE=10485760
MAX_FILES_PER_UPLOAD=10
ALLOWED_FILE_TYPES=image/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ======================
# Monitoring & Health
# ======================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# New Relic (Optional)
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=ClassPoint-API-Dev

# ======================
# Backup Configuration
# ======================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=classpoint-backups

# ======================
# Testing
# ======================
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/classpoint_test?schema=public"
